<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Demo</title>
    <style type="text/css">
        body {text-align: center;}
        .img-container { display: inline-block; }
        .code {text-align: center};
    </style>
</head>
<body>
    <div class="example">
        <div class="img-container">
            <img class="origin" src="favicon.jpeg" alt="" />
            <div class="code">
                <pre>原图</pre>
            </div>
        </div>
        <div class="img-container">
            <img class="result1" src="" alt="">
            <div class="code">
                <pre>Blur(image, 5, 'Linear')</pre>
            </div>
        </div>
        <div class="img-container">
            <img class="result2" src="" alt="">
            <div class="code">
                <pre>Blur(image, 10, 'Linear')</pre>
            </div>
        </div>
    </div>
    <div class="example">
        <div class="img-container">
            <img class="origin" src="iphone.jpg" alt="" />
            <div class="code">
                <pre>原图</pre>
            </div>
        </div>
        <div class="img-container">
            <img class="result1" src="" alt="">
            <div class="code">
                <pre>Blur(image, 5, 'Linear')</pre>
            </div>
        </div>
        <div class="img-container">
            <img class="result2" src="" alt="">
            <div class="code">
                <pre>Blur(image, 10, 'Linear')</pre>
            </div>
        </div>
    </div>

	<script src="blur.js" type="text/javascript"></script>
    <script type="text/javascript">
        var examples = Array.prototype.slice.call(document.querySelectorAll('.example'), 0);
        examples.forEach(function(example) {
            var img = example.querySelectorAll('img');
            var origin = img[0];
            var res1 = img[1];
            var res2 = img[2];
            var image = new Image();

            image.onload = function() {
                res1.src = Blur(origin, 5, 'Linear');
                res2.src = Blur(origin, 10, 'Linear');
            }

            image.src = origin.src;
        });

    </script>
</body>
</html>
